<!DOCTYPE html>
<html lang="en" class="bg-white">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Zya's Placeshop</title>

  <!-- Tailwind CSS CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Poppins Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
    }
  </style>
</head>
<body class="bg-white text-black">

  <!-- Main Wrapper -->
  <main class="max-w-md mx-auto px-4 pt-4">

    <!-- Share Icon -->
    <div class="flex justify-end mb-6">
      <button 
        id="shareBtn"
        class="p-2 rounded-lg hover:bg-gray-100 active:bg-gray-200 transition-all duration-300 hover:scale-110 hover:brightness-75 active:scale-95 cursor-pointer"
        title="Share this page"
        onclick="shareThisPage()"
      >
        <img src="share.svg" alt="Share" class="w-5 h-5">
      </button>
    </div>

    <!-- Profile Section -->
    <section class="text-center mb-6">
      <img src="https://i.pinimg.com/736x/d4/d7/83/d4d783db493c171cc9ad1502ecc710e9.jpg" alt="Profile" class="w-28 h-28 mx-auto rounded-full bg-gray-300 mb-4" />

      <h1 class="text-[20px] font-bold leading-tight">zya'splaceshop</h1>
      <p class="text-gray-700 text-sm">
  @thezyshop 
  <img src="verift.svg" alt="Verified" class="inline w-4 h-4 ml-1 mb-[2px]">
      </p>
      <p class="text-gray-500 text-sm mt-[6px]">We sell digital content packages daily!</p>

      <!-- External Link -->
      <a href="https://example.com/zya" class="mt-2 inline-flex items-center text-sm font-semibold text-black underline">
        <img src="link.svg" alt="Link" class="w-4 h-4 mr-1" />
        https://example.com/zya...
      </a>
    </section>

    <!-- Divider Line -->
    <div class="border-t border-black pb-10"></div>

    <!-- Grid Cards -->
    <section class="grid grid-cols-2 gap-x-4 gap-y-5 mb-20">
      <!-- Card 1 -->
      <a href="/card_product_shoope_0_250.html" class="card-link relative rounded-lg overflow-hidden" data-range="001 – 250">
        <img src="https://placehold.co/300x300?text=001-250" alt="001-250" class="w-full h-full object-cover">
        <div class="absolute bottom-0 w-full bg-black text-white text-xs text-center py-1">001 – 250</div>
      </a>

      <!-- Card 2 -->
      <a href="/card_product_shoope_0_251-500.html" class="card-link relative rounded-lg overflow-hidden" data-range="251 – 500">
        <img src="https://placehold.co/300x300?text=251-500" alt="251-500" class="w-full h-full object-cover">
        <div class="absolute bottom-0 w-full bg-black text-white text-xs text-center py-1">251 – 500</div>
      </a>

      <!-- Card 3 (Tambahan jarak atas) -->
      <a href="/card_product_shoope_0_501-725" class="card-link relative rounded-lg overflow-hidden mt-6" data-range="501 – 725">
        <img src="https://placehold.co/300x300?text=501-725" alt="501-725" class="w-full h-full object-cover">
        <div class="absolute bottom-0 w-full bg-black text-white text-xs text-center py-1">501 – 725</div>
      </a>

      <!-- Card 4 (Tambahan jarak atas) -->
      <a href="/card_product_shoope_0_752-1000" class="card-link relative rounded-lg overflow-hidden mt-6" data-range="752 – 1000">
        <img src="https://placehold.co/300x300?text=752-1000" alt="752-1000" class="w-full h-full object-cover">
        <div class="absolute bottom-0 w-full bg-black text-white text-xs text-center py-1">752 – 1000</div>
      </a>
    </section>

  </main>

  <!-- Load Coming Soon Modal -->
  <div id="modalContainer"></div>

  <script>
    let modalReady = false;

    // Placeholder function - will be replaced when modal loads
    function openComingSoonModal(range) {
      if (!modalReady) {
        console.log('Modal not ready yet, waiting...');
        setTimeout(() => openComingSoonModal(range), 100);
        return;
      }
      
      const modal = document.getElementById('comingSoonModal');
      const rangeElement = document.getElementById('productRange');
      
      if (rangeElement) {
        rangeElement.textContent = range;
      }
      
      if (modal) {
        modal.classList.remove('hidden');
        document.body.style.overflow = 'hidden';
      }
    }

    function closeComingSoonModal() {
      const modal = document.getElementById('comingSoonModal');
      if (modal) {
        modal.classList.add('hidden');
        document.body.style.overflow = 'auto';
      }
    }

    // Load coming soon modal
    async function loadComingSoonModal() {
      try {
        const response = await fetch('modal_information_product_comingsoon.html');
        const html = await response.text();
        const container = document.getElementById('modalContainer');
        container.innerHTML = html;
        
        // Wait a bit for modal DOM to be ready
        setTimeout(() => {
          modalReady = true;
          setupCardLinkDetection();
          console.log('Modal loaded and ready');
        }, 100);
      } catch (err) {
        console.error('Failed to load modal:', err);
      }
    }

    // Detect card links and check if page exists
    function setupCardLinkDetection() {
      // Define which pages already exist
      const existingPages = [
        '/card_product_shoope_0_250'
      ];

      const cardLinks = document.querySelectorAll('.card-link');
      cardLinks.forEach(link => {
        link.addEventListener('click', async (e) => {
          e.preventDefault();
          const href = link.getAttribute('href');
          const range = link.getAttribute('data-range');
          
          // Check if page exists in our list
          if (existingPages.includes(href)) {
            // Page exists, navigate
            window.location.pathname = href;
          } else {
            // Page doesn't exist yet, show coming soon modal
            console.log(`Opening modal for ${range}`);
            openComingSoonModal(range);
          }
        });
      });
    }

    function shareThisPage() {
      const pageTitle = document.title;
      const pageUrl = window.location.href;
      
      // Check if Web Share API is available
      if (navigator.share) {
        navigator.share({
          title: pageTitle,
          text: 'Check out this amazing content!',
          url: pageUrl
        }).catch(err => console.log('Error sharing:', err));
      } else {
        // Fallback: Copy to clipboard
        const textToCopy = `${pageTitle}\n${pageUrl}`;
        navigator.clipboard.writeText(textToCopy).then(() => {
          alert('Link copied to clipboard!');
        }).catch(err => {
          console.log('Error copying to clipboard:', err);
          // Final fallback: Show alert with URL
          alert(`Share this link:\n${pageUrl}`);
        });
      }
    }

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      loadComingSoonModal();
    });
  </script>

</body>
</html>
